<!doctype html>
<html lang="en-US">
  <head>
    <title>On the River</title>
  </head>
  <body>
    <div id="page1">
      <div class="intro">
        <p>The sun is low,</p>
      </div>
      <p>The waters flow,</p>
    </div>
    <div id="page2">
      <div class="intro">
        <p>My boat is dancing to and fro.</p>
      </div>
      <p>The eve is still,</p>
    </div>
    <div id="page3">
      <div class="intro">
        <p>Yet from the hill</p>
      </div>
      <p>The killdeer echoes loud and shrill.</p>
    </div>
  </body>
  <script>
    // function walk(node, callback) {
    //   callback(node);
    //   for (let idx = 0; idx < node.childNodes.length; idx += 1) {
    //     walk(node.childNodes[idx], callback);
    //   }
    // }

    // function getElementsByTagName(node, tag) {
    //   result = [];

    //   walk(node, (currentNode) => {
    //     if (currentNode.tagName === tag) {
    //       result.push(currentNode);
    //     }
    //   });

    //   return result;
    // }

    function addClass(nodeArray, newClass) {
      // nodeArray = Array.from(nodeArray);
      nodeArray.forEach((node) => node.classList.add(newClass));
    }

    // let paragraphs = document.getElementsByTagName('P');
    // addClass(Array.from(paragraphs), 'article-text');

  // let introDivs = document.getElementsByClassName('intro');
  // let paragraphs = Array.from(introDivs).flatMap((node) => {
  //   return Array.from(node.getElementsByTagName('P'));
  // });

  // paragraphs.forEach(para => para.classList.add('article-text'));

  let paragraphs = document.querySelectorAll('.intro p');
  Array.from(paragraphs).forEach(para => para.classList.add('article-text'));

  </script>
</html>
