<!doctype html>
<html lang="en-US">
  <head>
    <title>On the River</title>
  </head>
  <body>
    <h1>On the River</h1>
    <p>A poem by Paul Laurence Dunbar</p>

    <p>
      The sun is low,<br>
      The waters flow,<br>
      My boat is dancing to and fro.<br>
      The eve is still,<br>
      Yet from the hill<br>
      The killdeer echoes loud and shrill.
    </p>
    <p>
      The paddles plash,<br>
      The wavelets dash,<br>
      We see the summer lightning flash;<br>
      While now and then,<br>
      In marsh and fen<br>
      Too muddy for the feet of men,
    </p>
    <p>
      Where neither bird<br>
      Nor beast has stirred,<br>
      The spotted bullfrog's croak is heard.<br>
      The wind is high,<br>
      The grasses sigh,<br>
      The sluggish stream goes sobbing by.
    </p>
    <p>
      And far away<br>
      The dying day<br>
      Has cast its last effulgent ray;<br>
      While on the land<br>
      The shadows stand<br>
      Proclaiming that the eve's at hand.
    </p>
  </body>
  <script>
    function walk(node, callback) {
      callback(node);

      for (let index = 0; index < node.childNodes.length; index += 1) {
        walk(node.childNodes[index], callback);
      }
    }

    // 1. Starting with the document node, use the lastChild and childNodes properties to change the text color to red on the On the River heading and set its font size 48 pixels.

    const heading = document.childNodes[1].lastChild.childNodes[1];
    heading.style.color = 'red';
    heading.style.fontSize = '48px';

    // 2. Count the paragraphs on the page, and then log the result.
    const allParagraphs = [];
    walk(document, (node) => {
      if (node.tagName === 'P') {
        allParagraphs.push(node);
      }
    });

    console.log('paragraph count: ', allParagraphs.length);

    // 3. Retrieve the first word from each paragraph on the page and log the entire list.

    console.log(allParagraphs.map(para => para.innerText.split(' ')[0]));

    // 4. Add the class stanza to each paragraph except the first.
    const newClass = 'stanza';
    let firstPara = true;

    walk(document, (node) => {
      if (node.tagName === 'P') {
        if (firstPara) {
          firstPara = false;
        } else {
          node.classList.add(newClass);
        }
      }
    });


  </script>
</html>
